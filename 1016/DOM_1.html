<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>가위바위보</title>
		<link href="https://fonts.googleapis.com/css?family=Noto+Sans+KR&display=swap" rel="stylesheet">
		<style>
		body{
			text-align: center;
			font-size: 30px;
 			font-family: 'Noto Sans KR', sans-serif; 
		}
		div{
		}
		#gameStart{
			width: 100px;
			margin: 0 auto;
			font-size: 20px;
			font-weight: bold;
		}
		#rsp{
			width: 100%;
			height: 100%;
		}
			#left_text{
 				background-color: lightblue;
 				float: left;
				width: 50%;
				left: 20%; 
			}
			#right_text{
 				background-color: yellow; 
 				float: left; 
 				right: 20%;  
 				width: 50%; 
			}
			#left{
				clear: both;
				float: left;
				width: 50%;
				height: 30%;
			}
			#right{
				float: left;
				width: 50%;
				height: 30%;
			}
			#result{
				clear: both;
				text-align: center;
			}
		
		
		</style>
		<script>
		
			var ment = "";
		
			function gameStart(){
				var input = prompt("가위(1)/바위(2)/보(3) 중 하나를 입력하세요.");
				
				random = Math.floor(Math.random() * 3) + 1;
				
				if(input == "가위"){var input_2 = 1;}
				else if(input == "바위"){input_2 = 2;}
				else{input_2 = 3;}
				
				var str = input_2 == 1 ? "가위_좌.png" : (input_2 == 2 ? "바위_좌.png" : "보_좌.png")
				var str2 = random == "가위" || random == 1 ? "가위_우.png" : (random == "바위" || random == 2 ? "바위_우.png" : "보_우.png")
				
				switch(input_2 - random){
				case 1: case -2: ment =" 결과: 당신의 승리입니다!"; stop();break;
				case -1: case 2: ment = "결과: 당신이 졌습니다.";stop();break;
				case 0: ment = "결과: 비겼습니다.";stop();break;}
				
// 				ready_2();
				
				document.getElementById("result").innerHTML = ment; 
				document.getElementById("left").src = "../img/" + str;
				document.getElementById("right").src = "../img/" + str2;
			}

			
			function ready(){
				id = setInterval(change,100); //1초마다 변경하는 구문
			}
			
			
			function change(){
				imgarr = ["가위_우.png","바위_우.png","보_우.png"];
				var i = 0;
// 				 for(var i = 0; i < imgarr.length; i++){
// 					document.getElementById("right").src = "../img/" + imgarr[i];
// 					console.log("../img/" + imgarr[i]);
// 				}
				idx = Math.floor(Math.random() * imgarr.length); //클릭. 호출할 때마다 바뀐다. 0 ~ 4 랜덤수
				document.getElementById("right").src = "../img/" + imgarr[idx];
				console.log(idx);
			}

			function stop(){
				clearInterval(id);
			}
		
			
// 			function ready_2(){
// 				id = setInterval(second, 1000); //1초마다 변경하는 구문
// 				//setTimeout(gameStart, 4000);
// 			}
			
// 			function second(){
// 				var i = 3;
// 				document.getElementById("result").innerHTML = i + "초";
// 				i--;
// 				for(i == 0){
// 					stop();
// 					}
// 			}
			
			
		
		</script>
	</head>
	
	<body onload="ready();">
		<input type="button" id="gameStart" onclick="gameStart();" value="게임시작"><br><br>
		<div id="rsp">
			<div id="left_text">
				사용자
			</div>
			<div id="right_text">
				컴퓨터
			</div>
			<div>
				<img id="left" src="../img/바위_좌.png">
			</div>
			<div>
				<img id="right" onclick="change();" src="../img/바위_우.png">
			</div>
		<div id="result"></div>
		</div>
	</body>
</html>







