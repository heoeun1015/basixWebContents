<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>DOM(document object model)</title>
		<style>
		#on_1{cursor:pointer}
		</style>
		<script>
		
			function proc1(){
				var domul = document.getElementsByTagName("ul")[0];
				var domlist = domul.getElementsByTagName("li");
				
				for(var i = 0; i < domlist.length; i++){
					vimg = domlist[i].firstChild.data; //li 안에 내용(텍스트를 가져온다.). 자식태그
					imgC = document.createElement("img"); //<img> 태그를 만든다.
					imgC.src = "../img/" + vimg + ".jpg"; //<img src='안에 있는 내용'>
					imgC.width = 100;
					imgC.height = 100;
					
					domlist[i].appendChild(imgC); //안에 내용 뒤에 붙여라.
				}
			}
			
			function proc2(ele){
				vimg = ele.firstChild.data;
				imgC = document.createElement("img");
				imgC.src = "../img/" + vimg + ".jpg";
				imgC.width = 100;
				imgC.height = 100;
				
				ele.appendChild(imgC);
			}
			
			function changeColor(){
				id = setInterval(srcChange,1000); //1초마다 변경하는 구문
			}
			
			function srcChange(){
				
				imgarr = ["컴퓨터.jpg","식품.jpg","호랑이.jpg","구름.jpg","커피.jpg"];
				
				idx = Math.floor(Math.random() * imgarr.length);//클릭. 호출할 때마다 바뀐다. 0 ~ 4 랜덤수
				document.getElementById("img1").firstChild.src = "../img/" + imgarr[idx];
				console.log(document.getElementById("img1").firstChild.src);
				//div에는 src 태그가 없기 때문에 firstChild를 써주어 src를 찾았다.
				document.getElementById("img1").firstChild.width = 300;
				document.getElementById("img1").firstChild.height = 300;
				
			}
			
			function on(){
				var src_1 = document.getElementById("on_1").src;
				var arr = src_1.split("/");
				console.log(src_1);
				if(arr[8] == "sw_off.png"){
					document.getElementById("on_1").src = "../img/sw_on.png";
				}else{
					document.getElementById("on_1").src = "../img/sw_off.png";
				}
			}
			
			
			function stop(){
				clearInterval(id);
			}
		
		</script>
	</head>
	
	<body onload='changeColor();'>
		<h1>DOM</h1>
		<pre>HTML 문서를 객체로 표현한 것을 DOM이라 한다.</pre>
		<div class="box">
			<h3>1. 새로운 HTML 요소 생성(이미지 요소)</h3>
			버튼을 클릭하면 이미지를 표시한다. <br><br>
			1. 각 list의 문자를 가져온다. - firstChild.data;<br>
			2. 이미지 객체를 생성한다. - createElement('img');<br>
			3. 각 list의 자식으로 이미지를 추가한다. - appendChild()<br>
			
			<br>
			<button onclick="proc1()">실행</button>
			<ul>
				<li>컴퓨터</li>
				<li>식품</li>
				<li>호랑이</li>
				<li>구름</li>
				<li>커피</li>
			</ul>
		</div>
		<div>
			<h2>2. 새로운 HTML 요소 생성(이미지 요소) </h2>
			각 리스트를 클릭하면 해당 이미지를 표시한다.<br>
			1. 메소드 호출시 매개변수로 this를 넘겨준다.<br>
			2. createElement(): 이미지 요소를 생성한다.<br>
			3. appendChild(): this 요소 안에 자식으로 넣기.<br>
			
			<ul>
				<li onclick="proc2(this);">컴퓨터</li> <!-- 이 태그의 객체를 가져갈 때 this를 쓴다. -->
				<li onclick="proc2(this);">식품</li>
				<li onclick="proc2(this);">호랑이</li>
				<li onclick="proc2(this);">구름</li>
				<li onclick="proc2(this);">커피</li>
			</ul>
			
			<div>
				<h2>3. src 속성 변경</h2>
				버튼을 클릭할 때마다 이미지를 변경<br><br>
				1. 이미지를 배열로 구성<br>
				2. 랜덤발생<br>
				3. 이미지 배열 중 랜덤 발생 수 번째의 이미지로 src를 변경한다.<br><br>
				
				<button onclick="srcChange();">변경</button>
				<button onclick="stop();">중지</button>
				<br><br>
				- 버튼을 클릭하면 1초 간격으로 이미지를 변경<br>
				- setInterval(function(){}, 1000);<br><br>
				
				<div id="img1"><img src="../img/호랑이.jpg" width="300" height="300"></div>
				
				<div onclick="on();" id="on_1" ><img src="../img/sw_off.png" width="100" height="100"></div>
			
			</div>
		</div>
		
		<div>
		
		<button id="gameStart">게임시작</button>
		
		</div>
	</body>
</html>


















